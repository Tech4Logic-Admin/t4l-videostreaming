{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.EntityFrameworkCore.Database.Command": "Warning"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact"
        }
      },
      {
        "Name": "ApplicationInsights",
        "Args": {
          "connectionString": "",
          "telemetryConverter": "Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter, Serilog.Sinks.ApplicationInsights"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithThreadId", "WithCorrelationId"]
  },
  "ConnectionStrings": {
    "DefaultConnection": ""
  },
  "BlobStorage": {
    "ConnectionString": "",
    "QuarantineContainer": "quarantine",
    "VideosContainer": "videos",
    "StreamsContainer": "streams",
    "ThumbnailsContainer": "thumbnails",
    "TranscriptsContainer": "transcripts"
  },
  "AzureAd": {
    "Instance": "https://login.microsoftonline.com/",
    "TenantId": "",
    "ClientId": "",
    "Domain": "",
    "Audience": "",
    "Scopes": "api://t4l-videosearch/.default"
  },
  "FeatureFlags": {
    "UseDevAuth": false,
    "UseMockVideoIndexer": false,
    "UseMockContentSafety": false,
    "UseMockSearch": false,
    "EnableSwagger": false
  },
  "Cors": {
    "AllowedOrigins": []
  },
  "RateLimiting": {
    "GlobalWindowSeconds": 10,
    "GlobalRequestLimit": 200,
    "GlobalQueueLimit": 20,
    "UploadLimitPerMinute": 20,
    "SearchLimitPerWindow": 100,
    "AuthLimitPerMinute": 20,
    "PerUserWindowSeconds": 10,
    "PerUserRequestLimit": 100
  },
  "SecurityHeaders": {
    "FrameOptions": "DENY",
    "ReferrerPolicy": "strict-origin-when-cross-origin",
    "ContentSecurityPolicy": "default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self'; frame-ancestors 'none'",
    "PermissionsPolicy": "camera=(), microphone=(), geolocation=()",
    "EnableHsts": true,
    "HstsMaxAgeSeconds": 31536000,
    "DefaultCacheControl": "no-store, no-cache, must-revalidate"
  },
  "Caching": {
    "DefaultExpirationSeconds": 600,
    "SlidingExpirationSeconds": 120,
    "VideoListExpirationSeconds": 300,
    "SearchResultsExpirationSeconds": 300,
    "UserPermissionsExpirationSeconds": 600
  },
  "RequestLimits": {
    "MaxBodySizeBytes": 10485760,
    "MaxUploadSizeBytes": 5368709120
  },
  "VideoProcessing": {
    "MaxFileSizeBytes": 5368709120,
    "AllowedExtensions": [".mp4", ".mov", ".avi", ".mkv", ".webm", ".wmv"],
    "ThumbnailWidth": 320,
    "ThumbnailHeight": 180,
    "TranscodingPresets": ["1080p", "720p", "480p", "360p"]
  },
  "Search": {
    "MaxPageSize": 100,
    "DefaultPageSize": 20,
    "MaxSuggestions": 10,
    "HighlightPreTag": "<mark>",
    "HighlightPostTag": "</mark>"
  }
}
